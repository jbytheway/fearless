#define BOOST_TEST_DYN_LINK

#include <boost/test/unit_test.hpp>
#include <boost/test/test_tools.hpp>

#include <fearless/physics/stardb.hpp>

namespace fearless { namespace physics {

BOOST_AUTO_TEST_CASE(stardb_loads)
{
  std::istringstream is(
      "26\n"
      "1  0.000911851 +1.089013318 716.850549 9.10 F5\n"
      "2  0.003797375 -19.498837380 156.435012 9.27 K3V\n"
      "3  0.005007943 +38.859286082 1443.216814 6.61 B9\n"
      "4  0.008381880 -51.893546107 437.808054 8.06 F0V\n"
      "5  0.009965019 -40.591224452 840.636598 8.55 G8III\n"
      "6  0.018140858 +3.946488109 179.508531 12.31 M0V:\n"
      "7  0.022548920 +20.036601976 188.754051 9.64 G0\n"
      "8  0.027291750 +25.886474600 654.953815 9.05 M6e-M8.5e\n"
      "9  0.035341945 +36.585937695 1370.449580 8.59 G5\n"
      "10  0.036252965 -50.867073630 301.169898 8.59 F6V\n"
      "11  0.037296670 +46.940001680 780.303828 7.34 A2\n"
      "12  0.040917099 -35.960224856 1003.590769 8.43 K4III\n"
      "14  0.048272273 -0.360421238 671.125514 7.25 K0\n"
      "15  0.050308949 +50.791173636 1707.680628 8.60 K2\n"
      "17  0.051099728 -40.192328399 444.975443 8.15 F3V\n"
      "18  0.053139767 -4.053737736 146.197669 11.03 K5\n"
      "19  0.053316897 +38.304086328 813.384040 6.53 G5\n"
      "20  0.062950667 +23.529284267 315.137198 8.51 G0\n"
      "21  0.066235812 +8.007234299 617.740530 7.55 K2\n"
      "22  0.070135603 -49.352266744 1038.748408 8.69 G8/K0III/IV\n"
      "23  0.074429733 +13.312210973 281.421053 7.57 F2V\n"
      "24  0.076049782 -23.452748949 344.058017 9.05 G0V\n"
      "25  0.079366016 -44.290297302 265.392189 6.28 G3IV\n"
      "26  0.084345690 -13.393297009 328.797379 9.13 F7V\n"
      "27  0.085469696 -41.297537028 351.094726 9.32 G5V\n"
      "28  0.087249068 -43.361799571 645.875248 8.83 F3/F5V\n"
    );
  StarDb db;
  BOOST_CHECKPOINT("loading stardb");
  db.load_celestia_txt(is);
}

}}

